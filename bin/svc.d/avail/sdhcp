#!/bin/sh

SERVICE="sdhcp"

[ -e "/bin/svc.d/default/$SERVICE" ] && . "/bin/svc.d/default/$SERVICE"

BIN="/bin/$SERVICE"

PID=$(pidof -o %PPID $SERVICE)

case $1 in
	-s)
		[ -z "$PID" ] && ifconfig $PARAMS up && $BIN $PARAMS;
		;;
	-k)
		[ -n "$PID" ] && kill -9 $PID &> /dev/null && ifconfig $PARAMS down
		;;
	*)
		echo "usage: $0 -s|-k"
		exit 1
esac
